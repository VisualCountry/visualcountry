<div class="user">
  <div class="container">

    <div class="row">
      <div class="col-lg-4 col-md-4 col-sm-4">
        <%= image_tag(@user.picture.url, :size => '300', alt: 'Profile Pic') %>
      </div>

      <div class="col-lg-8 col-md-8 col-sm-8">
        <h1><%= @user.name %></h1>
        <p><%= @user.focuses.pluck(:name).join(', ') %></p>
        <h4><%= @user.bio %></h4>
        <h5><span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span></h5>
        <h5><span class="glyphicon glyphicon-link" aria-hidden="true"></span> <% if @user.website %><%= link_to @user.website, "http://#{@user.website}" %><% end %></h5>
        <h5><span class="glyphicon glyphicon-envelope" aria-hidden="true"></span> <%= mail_to @user.email, @user.email %></h5>


      </div>
    </div>

    <br>

    <!-- FIXME -->
    <div class="row">
      <div style="float: left;">
        <h4><div>TOTAL FOLLOWERS:</div></h4>
        <h1><div><%= number_with_delimiter(@user.total_follower_count) %></div></h1>
      </div>

      <% User::SOCIAL_PLATFORMS.each do |social| %>
        <%= render 'follower_counts', social: social %>
      <% end %>
    </div>

    <div class="row">
      <div class="col-lg-4 col-md-4 col-sm-4">
        <h1>Interests</h1>
        <% @user.interests.each do |interest| %>
          <button type="button" class="btn btn-default btn-interests"><%= interest.name %></button>
        <% end %>
      </div>
      <div class="col-lg-4 col-md-4 col-sm-4">
        <h1>Press</h1>
        <% @user.press.each do |press| %>
          <p><%= press.name %></p>
        <% end %>
      </div>
      <div class="col-lg-4 col-md-4 col-sm-4">
        <h1>Clients</h1>
        <% @user.clients.each do |client| %>
          <p><%= link_to client.name, client.url %></p>
        <% end %>
      </div>
    </div>

    <br>

    <% if @user.instagram_media %>
      <h1>Instagram</h1>
      <hr>
      <% @user.instagram_media.first(9).each_slice(3) do |instagram_group| %>
        <div class="row">
          <% instagram_group.each do |instagram_picture| %>
            <div class="col-lg-4 col-md-4 col-sm-4">
              <%= link_to(image_tag(instagram_picture['images']['standard_resolution']['url'], class: 'social-image'),instagram_picture['link']) %>
              <div class="post-icons"><span class="glyphicon glyphicon-thumbs-up pink" aria-hidden="true"></span> <%= number_with_delimiter(instagram_picture['likes']['count'].round) %></div>
              <div class="post-icons"><span class="glyphicon glyphicon-comment pink" aria-hidden="true"></span> <%= number_with_delimiter(instagram_picture['comments']['count'].round) %></div>
            </div>
          <% end %>
          <br>
        </div>
      <% end %>
    <% end %>

    <br>

    <% if @user.vine_media %>
      <h1>Vine</h1>
      <hr>
      <% @user.vine_media.first(9).each_slice(3) do |vine_group| %>
        <div class="row">
          <% vine_group.each do |vine| %>
            <div class="col-lg-4 col-md-4 col-sm-4">
              <%= videojs_tag(vine.videoUrl, class: 'social-video') %>
               <div class="post-icons"><span class="glyphicon glyphicon-thumbs-up pink" aria-hidden="true"></span> <%= vine.likes['count'] %></div>
               <div class="post-icons"><span class="glyphicon glyphicon-refresh pink" aria-hidden="true"></span> <%= vine.reposts['count'] %></div>
               <div class="post-icons"><span class="glyphicon glyphicon-play-circle pink" aria-hidden="true"></span> <%= number_with_delimiter(vine.loops['count'].round) %></div>
               <div class="post-icons"><span class="glyphicon glyphicon-comment pink" aria-hidden="true"></span> <%= number_with_delimiter(vine.comments['count'].round) %></div>
            </div>
          <% end %>
        </div>
        <br>
      <% end %>
    <% end %>

  </div>
</div>
